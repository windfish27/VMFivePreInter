<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<!--mobile rwd meta-->
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>Pre Interview</title>
	<style>
		html,body{
			width: 100%;
			height: 100%;
			margin: 0;
			padding: 0;
		}

		#outer{
			width: 100%;
			height: 100%;
			background: #fff;
			position: relative;
		}

		.box{
			display: inline-block;
			background: #434343;
			position: absolute;
			top: 50%;
			left: 50%;
		}
		.box .inside{
			position: relative;
			width: 100%;
			height: 100%;
		}
		.box .inside .img{
			display: block;
			position: absolute;
			max-width: 130px;
			max-height: 130px;
			width: 10%;
		}
	</style>
	<script>
		var domReady = function(callback) {
		document.readyState === "interactive" || document.readyState === "complete" ? callback() : document.addEventListener("DOMContentLoaded", callback);
		};

		var posArray = [];
		var boxWidth;
		var boxHeight
		var Num = 12;

		domReady(function() {
			var box = boxsize();
			boxWidth = box.width;
			boxHeight = box.height;
			randomPos(boxWidth,boxHeight);
			PositionArray();
			showimg();

			countdown();
		    window.addEventListener("resize", function() {
		    	box = boxsize();
		    	
		    	boxWidth = box.width;
		    	boxHeight = box.height;
		    	posArray = [];
			}, false);

		});

		function showimg(){
			var length = Num;
			var add = 0;
			var boxinside = document.getElementById("boxinside");
			var child = boxinside.children;
			for(a=0;a<Num;a++){
				child[a].style.left = posArray[a].x + 'px';
				child[a].style.top = posArray[a].y + 'px';
				child[a].onmousedown = function () {
				    draggble(this);
				    return false;
				};
			}
		}

		function countdown(){
			var count = setInterval(function(){
				randomPos(boxWidth,boxHeight);
				PositionArray();
				showimg();
			}, 1000);
		}

		function PositionArray(){
			posArray = [];
			for(i=0;i<Num;i++){
				var random = randomPos();
				posArray.push(random);
			}
		}

		function randomPos(){
			var imgsize = Math.floor(boxWidth/10) + 1;
			var maxwidth = Math.floor(boxWidth) - imgsize;
			var maxheight = Math.floor(boxHeight) - imgsize;
			var ranX = getRandomInt(0, maxwidth);
			var ranY = getRandomInt(0, maxheight);

			return{
				x: ranX,
				y: ranY
			}
		}

		function getRandomInt(min, max) {
		    return Math.floor(Math.random() * (max - min + 1)) + min;
		}

		function boxsize(){
			var box = document.getElementById("box");
			var width;
			if(window.innerHeight > window.innerWidth){
				width = window.innerWidth*0.8;
			}else{
				width = window.innerWidth*0.7;
			}

		    var height = width*3/4;
		    box.style.width = width+'px';
		    box.style.height = height+'px';
		    box.style.margin = -height/2+'px 0 0 '+ -width/2 +'px';

		    return{
		    	width: width,
		    	height: height
		    }
		}

		
	</script>

</head>
<body>
	<div id="outer">
		<div id="box" class="box ver">
			<div id="boxinside" class="inside">
				<img class="img" src="img/0.png" alt="">
				<img class="img" src="img/1.png" alt="">
				<img class="img" src="img/2.png" alt="">
				<img class="img" src="img/3.png" alt="">
				<img class="img" src="img/4.png" alt="">
				<img class="img" src="img/5.png" alt="">
				<img class="img" src="img/6.png" alt="">
				<img class="img" src="img/7.png" alt="">
				<img class="img" src="img/8.png" alt="">
				<img class="img" src="img/9.png" alt="">
				<img class="img" src="img/10.png" alt="">
				<img class="img" src="img/11.png" alt="">
			</div>
		</div>
	</div>
</body>
</html>